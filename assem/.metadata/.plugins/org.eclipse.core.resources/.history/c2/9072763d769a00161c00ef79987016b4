package assem;

public class MemInstruction extends Instruction {

	final private byte bank;
	final private String srcReg;
	final private String destReg;

	public MemInstruction(Instr instruction, String srcReg, String destReg, String bank) {
		super(instruction);
		this.bank = ParseImmediate(bank);
		this.srcReg = srcReg;
		this.destReg = destReg;
	}

	public byte getBank() {
		return bank;
	}

	public String getSrcReg() {
		return srcReg;
	}

	public String getDestReg() {
		return destReg;
	}

	public String toString() {
		String opCode = "10";
		String instruction = DecodeInstruction(this.getInstruction());
		if (instruction == "000")
			instruction = "0";
		else
			instruction = "1";
		String srcReg = ConvertRegToBinary(DecodeRegister(this.srcReg));
		String destReg = ConvertRegToBinary(DecodeRegister(this.destReg));
		String bank = ConvertImmToBinary(this.bank, 5);

		return opCode + instruction + bank + srcReg + destReg;
		
		//return String.format("%02x%01x%05x%04x%04x", opCode, instruction, bank, srcReg, destReg);
	}
}